<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="æ·»åŠ ç¯å¢ƒå˜é‡ åœ¨ä½ çš„ Vercel ä¸­çš„ Waline çš„ Project ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š\nç¯å¢ƒå˜é‡ æè¿° SC_KEY Server é…±æä¾›çš„ Tokenï¼Œå¿…å¡« AUTHOR_EMAIL åšä¸»é‚®ç®±ï¼Œç”¨æ¥åŒºåˆ†å‘å¸ƒçš„è¯„è®ºæ˜¯å¦æ˜¯åšä¸»æœ¬èº«å‘å¸ƒçš„ã€‚å¦‚æœæ˜¯åšä¸»å‘å¸ƒçš„åˆ™ä¸è¿›è¡Œæé†’é€šçŸ¥ SITE_NAME ç½‘ç«™åç§°ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SITE_URL ç½‘ç«™åœ°å€ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SC_TEMPLATE Serveré…± ä½¿ç”¨çš„é€šçŸ¥æ¨¡æ¿ï¼Œå˜é‡ä¸å…·ä½“æ ¼å¼å¯å‚è§ Walineæ–‡æ¡£ çš„é€šçŸ¥æ¨¡æ¿ã€‚æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿ æ·»åŠ æ¨é€ä»£ç  æŒ‰ç†è¯´è¿™æ ·è®¾ç½®ä¹‹åå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ï¼Œè€Œä¸”æ–‡æ¡£ä¸­å°±æ˜¯è¿™æ ·å†™çš„ï¼Œä½†å®é™…æ˜¯ï¼Œå³ä½¿è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿæ— æ³•æ­£å¸¸æ¨é€ã€‚\næ­¤æ—¶æ‰“å¼€ä½  Waline å¯¹åº”çš„ Github ä»“åº“ï¼Œæ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ index.cjs æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 const Application = require('@waline/vercel'); const FormData = require('form-data'); const fetch = require('node-fetch'); module.exports = Application({ plugins: [], async postSave(comment) { // do what ever you want after comment saved console.log('New comment received:', comment); // è·å–ç¯å¢ƒå˜é‡ const { SC_KEY, SITE_NAME, SITE_URL, PUSH_PLUS_KEY } = process.env; // å‡†å¤‡æ•°æ® const data = { self: comment, site: { name: SITE_NAME || 'Default Site Name', url: SITE_URL || 'https://default.site.url', postUrl: (SITE_URL || 'https://default.site.url') + comment.url + '#' + comment.objectId, }, }; const contentTemplate = ` ğŸ’¬ LengM ---------------------------- è¯„è®ºé¡µé¢: ${data.site.postUrl} è¯„è®ºå†…å®¹: ${data.self.comment} è¯„è®ºè€…æ˜µç§°: ${data.self.nick} è¯„è®ºè€…é‚®ç®±: ${data.self.mail || 'æœªæä¾›'} IP åœ°å€: ${data.self.ip || 'æœªçŸ¥'} è¯„è®ºæ—¶é—´: ${new Date(data.self.createdAt).toLocaleString()} æµè§ˆå™¨ä¿¡æ¯: ${data.self.ua || 'æœªçŸ¥'} `; const title = `LengM - æ–°è¯„è®ºé€šçŸ¥`; let success = false; // Serveré…±é€šçŸ¥ if (SC_KEY) { const form = new FormData(); form.append('text', title); form.append('desp', contentTemplate); try { const response = await fetch(`https://sctapi.ftqq.com/${SC_KEY}.send`, { method: 'POST', headers: form.getHeaders(), body: form, }); const result = await response.json(); if (response.ok && result.code === 0) { console.log('Serveré…±é€šçŸ¥æˆåŠŸ:', result); success = true; } else { console.error('Serveré…±é€šçŸ¥å¤±è´¥:', result); } } catch (error) { console.error('Error sending Serveré…± notification:', error.message); } } else { console.error('SC_KEY not defined in environment variables.'); } // PushPlusé€šçŸ¥ if (PUSH_PLUS_KEY) { try { const pushplusResponse = await fetch('http://www.pushplus.plus/send/', { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded', }, body: `token=${PUSH_PLUS_KEY}&amp;title=${encodeURIComponent(title)}&amp;content=${encodeURIComponent(contentTemplate)}&amp;template=html`, }); const pushplusResult = await pushplusResponse.json(); if (pushplusResponse.ok && pushplusResult.code === 200) { console.log('PushPlusé€šçŸ¥æˆåŠŸ:', pushplusResult); success = true; } else { console.error('PushPlusé€šçŸ¥å¤±è´¥:', pushplusResult); } } catch (error) { console.error('Error sending PushPlus notification:', error.message); } } else { console.error('PUSH_PLUS_KEY not defined in environment variables.'); } // æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é€šçŸ¥æˆåŠŸ if (!success) { console.error('ä¸¤ç§é€šçŸ¥æ–¹å¼å‡å¤±è´¥ã€‚'); return false; } }, }); å¯ä»¥ä¿®æ”¹ contentTemplate çš„å€¼æ¥è‡ªå®šä¹‰é€šçŸ¥çš„å†…å®¹ã€‚ å°†æ–‡ä»¶æ›´æ–°åˆ° Github ä¹‹å Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ã€‚\n"><title>Walineè¯„è®ºé…ç½®Serveré…±é€šçŸ¥</title><link rel=canonical href=https://www.trrw.tech/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/><link rel=stylesheet href=/scss/style.min.d38c887e94345faaf963f9222f46d5f26a51e96e624fcfde6814bc7c4d64bd16.css><meta property='og:title' content="Walineè¯„è®ºé…ç½®Serveré…±é€šçŸ¥"><meta property='og:description' content="æ·»åŠ ç¯å¢ƒå˜é‡ åœ¨ä½ çš„ Vercel ä¸­çš„ Waline çš„ Project ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š\nç¯å¢ƒå˜é‡ æè¿° SC_KEY Server é…±æä¾›çš„ Tokenï¼Œå¿…å¡« AUTHOR_EMAIL åšä¸»é‚®ç®±ï¼Œç”¨æ¥åŒºåˆ†å‘å¸ƒçš„è¯„è®ºæ˜¯å¦æ˜¯åšä¸»æœ¬èº«å‘å¸ƒçš„ã€‚å¦‚æœæ˜¯åšä¸»å‘å¸ƒçš„åˆ™ä¸è¿›è¡Œæé†’é€šçŸ¥ SITE_NAME ç½‘ç«™åç§°ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SITE_URL ç½‘ç«™åœ°å€ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SC_TEMPLATE Serveré…± ä½¿ç”¨çš„é€šçŸ¥æ¨¡æ¿ï¼Œå˜é‡ä¸å…·ä½“æ ¼å¼å¯å‚è§ Walineæ–‡æ¡£ çš„é€šçŸ¥æ¨¡æ¿ã€‚æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿ æ·»åŠ æ¨é€ä»£ç  æŒ‰ç†è¯´è¿™æ ·è®¾ç½®ä¹‹åå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ï¼Œè€Œä¸”æ–‡æ¡£ä¸­å°±æ˜¯è¿™æ ·å†™çš„ï¼Œä½†å®é™…æ˜¯ï¼Œå³ä½¿è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿæ— æ³•æ­£å¸¸æ¨é€ã€‚\næ­¤æ—¶æ‰“å¼€ä½  Waline å¯¹åº”çš„ Github ä»“åº“ï¼Œæ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ index.cjs æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 const Application = require('@waline/vercel'); const FormData = require('form-data'); const fetch = require('node-fetch'); module.exports = Application({ plugins: [], async postSave(comment) { // do what ever you want after comment saved console.log('New comment received:', comment); // è·å–ç¯å¢ƒå˜é‡ const { SC_KEY, SITE_NAME, SITE_URL, PUSH_PLUS_KEY } = process.env; // å‡†å¤‡æ•°æ® const data = { self: comment, site: { name: SITE_NAME || 'Default Site Name', url: SITE_URL || 'https://default.site.url', postUrl: (SITE_URL || 'https://default.site.url') + comment.url + '#' + comment.objectId, }, }; const contentTemplate = ` ğŸ’¬ LengM ---------------------------- è¯„è®ºé¡µé¢: ${data.site.postUrl} è¯„è®ºå†…å®¹: ${data.self.comment} è¯„è®ºè€…æ˜µç§°: ${data.self.nick} è¯„è®ºè€…é‚®ç®±: ${data.self.mail || 'æœªæä¾›'} IP åœ°å€: ${data.self.ip || 'æœªçŸ¥'} è¯„è®ºæ—¶é—´: ${new Date(data.self.createdAt).toLocaleString()} æµè§ˆå™¨ä¿¡æ¯: ${data.self.ua || 'æœªçŸ¥'} `; const title = `LengM - æ–°è¯„è®ºé€šçŸ¥`; let success = false; // Serveré…±é€šçŸ¥ if (SC_KEY) { const form = new FormData(); form.append('text', title); form.append('desp', contentTemplate); try { const response = await fetch(`https://sctapi.ftqq.com/${SC_KEY}.send`, { method: 'POST', headers: form.getHeaders(), body: form, }); const result = await response.json(); if (response.ok && result.code === 0) { console.log('Serveré…±é€šçŸ¥æˆåŠŸ:', result); success = true; } else { console.error('Serveré…±é€šçŸ¥å¤±è´¥:', result); } } catch (error) { console.error('Error sending Serveré…± notification:', error.message); } } else { console.error('SC_KEY not defined in environment variables.'); } // PushPlusé€šçŸ¥ if (PUSH_PLUS_KEY) { try { const pushplusResponse = await fetch('http://www.pushplus.plus/send/', { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded', }, body: `token=${PUSH_PLUS_KEY}&amp;title=${encodeURIComponent(title)}&amp;content=${encodeURIComponent(contentTemplate)}&amp;template=html`, }); const pushplusResult = await pushplusResponse.json(); if (pushplusResponse.ok && pushplusResult.code === 200) { console.log('PushPlusé€šçŸ¥æˆåŠŸ:', pushplusResult); success = true; } else { console.error('PushPlusé€šçŸ¥å¤±è´¥:', pushplusResult); } } catch (error) { console.error('Error sending PushPlus notification:', error.message); } } else { console.error('PUSH_PLUS_KEY not defined in environment variables.'); } // æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é€šçŸ¥æˆåŠŸ if (!success) { console.error('ä¸¤ç§é€šçŸ¥æ–¹å¼å‡å¤±è´¥ã€‚'); return false; } }, }); å¯ä»¥ä¿®æ”¹ contentTemplate çš„å€¼æ¥è‡ªå®šä¹‰é€šçŸ¥çš„å†…å®¹ã€‚ å°†æ–‡ä»¶æ›´æ–°åˆ° Github ä¹‹å Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ã€‚\n"><meta property='og:url' content='https://www.trrw.tech/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/'><meta property='og:site_name' content="Trrrrw's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Waline'><meta property='article:tag' content='Serveré…±'><meta property='article:tag' content='Vercel'><meta property='article:tag' content='Github'><meta property='article:published_time' content='2025-06-03T00:11:56+08:00'><meta property='article:modified_time' content='2025-06-03T00:11:56+08:00'><meta property='og:image' content='https://www.trrw.tech/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/cover.webp'><meta name=twitter:title content="Walineè¯„è®ºé…ç½®Serveré…±é€šçŸ¥"><meta name=twitter:description content="æ·»åŠ ç¯å¢ƒå˜é‡ åœ¨ä½ çš„ Vercel ä¸­çš„ Waline çš„ Project ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š\nç¯å¢ƒå˜é‡ æè¿° SC_KEY Server é…±æä¾›çš„ Tokenï¼Œå¿…å¡« AUTHOR_EMAIL åšä¸»é‚®ç®±ï¼Œç”¨æ¥åŒºåˆ†å‘å¸ƒçš„è¯„è®ºæ˜¯å¦æ˜¯åšä¸»æœ¬èº«å‘å¸ƒçš„ã€‚å¦‚æœæ˜¯åšä¸»å‘å¸ƒçš„åˆ™ä¸è¿›è¡Œæé†’é€šçŸ¥ SITE_NAME ç½‘ç«™åç§°ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SITE_URL ç½‘ç«™åœ°å€ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º SC_TEMPLATE Serveré…± ä½¿ç”¨çš„é€šçŸ¥æ¨¡æ¿ï¼Œå˜é‡ä¸å…·ä½“æ ¼å¼å¯å‚è§ Walineæ–‡æ¡£ çš„é€šçŸ¥æ¨¡æ¿ã€‚æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿ æ·»åŠ æ¨é€ä»£ç  æŒ‰ç†è¯´è¿™æ ·è®¾ç½®ä¹‹åå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ï¼Œè€Œä¸”æ–‡æ¡£ä¸­å°±æ˜¯è¿™æ ·å†™çš„ï¼Œä½†å®é™…æ˜¯ï¼Œå³ä½¿è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿæ— æ³•æ­£å¸¸æ¨é€ã€‚\næ­¤æ—¶æ‰“å¼€ä½  Waline å¯¹åº”çš„ Github ä»“åº“ï¼Œæ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ index.cjs æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 const Application = require('@waline/vercel'); const FormData = require('form-data'); const fetch = require('node-fetch'); module.exports = Application({ plugins: [], async postSave(comment) { // do what ever you want after comment saved console.log('New comment received:', comment); // è·å–ç¯å¢ƒå˜é‡ const { SC_KEY, SITE_NAME, SITE_URL, PUSH_PLUS_KEY } = process.env; // å‡†å¤‡æ•°æ® const data = { self: comment, site: { name: SITE_NAME || 'Default Site Name', url: SITE_URL || 'https://default.site.url', postUrl: (SITE_URL || 'https://default.site.url') + comment.url + '#' + comment.objectId, }, }; const contentTemplate = ` ğŸ’¬ LengM ---------------------------- è¯„è®ºé¡µé¢: ${data.site.postUrl} è¯„è®ºå†…å®¹: ${data.self.comment} è¯„è®ºè€…æ˜µç§°: ${data.self.nick} è¯„è®ºè€…é‚®ç®±: ${data.self.mail || 'æœªæä¾›'} IP åœ°å€: ${data.self.ip || 'æœªçŸ¥'} è¯„è®ºæ—¶é—´: ${new Date(data.self.createdAt).toLocaleString()} æµè§ˆå™¨ä¿¡æ¯: ${data.self.ua || 'æœªçŸ¥'} `; const title = `LengM - æ–°è¯„è®ºé€šçŸ¥`; let success = false; // Serveré…±é€šçŸ¥ if (SC_KEY) { const form = new FormData(); form.append('text', title); form.append('desp', contentTemplate); try { const response = await fetch(`https://sctapi.ftqq.com/${SC_KEY}.send`, { method: 'POST', headers: form.getHeaders(), body: form, }); const result = await response.json(); if (response.ok && result.code === 0) { console.log('Serveré…±é€šçŸ¥æˆåŠŸ:', result); success = true; } else { console.error('Serveré…±é€šçŸ¥å¤±è´¥:', result); } } catch (error) { console.error('Error sending Serveré…± notification:', error.message); } } else { console.error('SC_KEY not defined in environment variables.'); } // PushPlusé€šçŸ¥ if (PUSH_PLUS_KEY) { try { const pushplusResponse = await fetch('http://www.pushplus.plus/send/', { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded', }, body: `token=${PUSH_PLUS_KEY}&amp;title=${encodeURIComponent(title)}&amp;content=${encodeURIComponent(contentTemplate)}&amp;template=html`, }); const pushplusResult = await pushplusResponse.json(); if (pushplusResponse.ok && pushplusResult.code === 200) { console.log('PushPlusé€šçŸ¥æˆåŠŸ:', pushplusResult); success = true; } else { console.error('PushPlusé€šçŸ¥å¤±è´¥:', pushplusResult); } } catch (error) { console.error('Error sending PushPlus notification:', error.message); } } else { console.error('PUSH_PLUS_KEY not defined in environment variables.'); } // æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é€šçŸ¥æˆåŠŸ if (!success) { console.error('ä¸¤ç§é€šçŸ¥æ–¹å¼å‡å¤±è´¥ã€‚'); return false; } }, }); å¯ä»¥ä¿®æ”¹ contentTemplate çš„å€¼æ¥è‡ªå®šä¹‰é€šçŸ¥çš„å†…å®¹ã€‚ å°†æ–‡ä»¶æ›´æ–°åˆ° Github ä¹‹å Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ã€‚\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.trrw.tech/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/cover.webp'><link rel="shortcut icon" href=/favicon.webp><script defer src=https://umami.trrw.tech/script.js data-website-id=0d3ae99b-13c2-453f-8487-2f4e553b79c3></script><meta name=google-site-verification content="QgGs732FEUKQEa7cL_Afvv3YCGjfF_IBkeAzAaGaIBM"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_b50a61df1acbb930.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Trrrrw's Blog</a></h1><h2 class=site-description>Spending a lifetime to taste the love and pain</h2></div></header><ol class=menu-social><li><a href=https://github.com/Trrrrw target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://space.bilibili.com/93625252 target=_blank title=BiliBili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://x.com/trrrrrrrw target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=mailto:wzhhenry@qq.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=/index.xml target=_blank title=Rss rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>é“¾æ¥</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#æ·»åŠ ç¯å¢ƒå˜é‡>æ·»åŠ ç¯å¢ƒå˜é‡</a></li><li><a href=#æ·»åŠ æ¨é€ä»£ç >æ·»åŠ æ¨é€ä»£ç </a></li><li><a href=#é™„å½•>é™„å½•</a><ol><li><a href=#å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</a></li><li><a href=#æ–‡ç« å°é¢>æ–‡ç« å°é¢</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/><img src=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/cover.webp width=2612 height=1440 loading=lazy alt="Featured image of post Walineè¯„è®ºé…ç½®Serveré…±é€šçŸ¥"></a></div><div class=article-details><header class=article-category><a href=/categories/%E5%BB%BA%E7%AB%99%E8%AE%B0%E5%BD%95/>å»ºç«™è®°å½•</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/>Walineè¯„è®ºé…ç½®Serveré…±é€šçŸ¥</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-06-03T00:11:56+08:00>Jun 03, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 2 åˆ†é’Ÿ</time></div><div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7"/><circle cx="12" cy="12" r="2"/></svg>
<time class=article-analysic data-path=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/>0 é˜…è¯»</time></div></footer></div></header><section class=article-content><h2 id=æ·»åŠ ç¯å¢ƒå˜é‡>æ·»åŠ ç¯å¢ƒå˜é‡</h2><p>åœ¨ä½ çš„ <strong>Vercel</strong> ä¸­çš„ <strong>Waline</strong> çš„ Project ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</p><p><img src=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/vercel-env.webp width=2210 height=1751 loading=lazy alt=Walineç¯å¢ƒå˜é‡ class=gallery-image data-flex-grow=126 data-flex-basis=302px></p><div class=table-wrapper><table><thead><tr><th>ç¯å¢ƒå˜é‡</th><th>æè¿°</th></tr></thead><tbody><tr><td>SC_KEY</td><td>Server é…±æä¾›çš„ Tokenï¼Œ<strong>å¿…å¡«</strong></td></tr><tr><td>AUTHOR_EMAIL</td><td>åšä¸»é‚®ç®±ï¼Œç”¨æ¥åŒºåˆ†å‘å¸ƒçš„è¯„è®ºæ˜¯å¦æ˜¯åšä¸»æœ¬èº«å‘å¸ƒçš„ã€‚å¦‚æœæ˜¯åšä¸»å‘å¸ƒçš„åˆ™ä¸è¿›è¡Œæé†’é€šçŸ¥</td></tr><tr><td>SITE_NAME</td><td>ç½‘ç«™åç§°ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º</td></tr><tr><td>SITE_URL</td><td>ç½‘ç«™åœ°å€ï¼Œç”¨äºåœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤º</td></tr><tr><td>SC_TEMPLATE</td><td>Serveré…± ä½¿ç”¨çš„é€šçŸ¥æ¨¡æ¿ï¼Œå˜é‡ä¸å…·ä½“æ ¼å¼å¯å‚è§ <a class=link href=https://waline.js.org/guide/features/notification.html#%E9%80%9A%E7%9F%A5%E6%A8%A1%E6%9D%BF target=_blank rel=noopener>Walineæ–‡æ¡£</a> çš„é€šçŸ¥æ¨¡æ¿ã€‚æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤æ¨¡æ¿</td></tr></tbody></table></div><h2 id=æ·»åŠ æ¨é€ä»£ç >æ·»åŠ æ¨é€ä»£ç </h2><p>æŒ‰ç†è¯´è¿™æ ·è®¾ç½®ä¹‹åå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ï¼Œè€Œä¸”æ–‡æ¡£ä¸­å°±æ˜¯è¿™æ ·å†™çš„ï¼Œä½†å®é™…æ˜¯ï¼Œå³ä½¿è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿæ— æ³•æ­£å¸¸æ¨é€ã€‚<br>æ­¤æ—¶æ‰“å¼€ä½  <strong>Waline</strong> å¯¹åº”çš„ Github ä»“åº“ï¼Œæ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ <strong>index.cjs</strong> æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Application</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;@waline/vercel&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>FormData</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;form-data&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fetch</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;node-fetch&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>Application</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>plugins</span><span class=o>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=nx>postSave</span><span class=p>(</span><span class=nx>comment</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// do what ever you want after comment saved
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;New comment received:&#39;</span><span class=p>,</span> <span class=nx>comment</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// è·å–ç¯å¢ƒå˜é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=p>{</span> <span class=nx>SC_KEY</span><span class=p>,</span> <span class=nx>SITE_NAME</span><span class=p>,</span> <span class=nx>SITE_URL</span><span class=p>,</span> <span class=nx>PUSH_PLUS_KEY</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// å‡†å¤‡æ•°æ®
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>self</span><span class=o>:</span> <span class=nx>comment</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>site</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span> <span class=nx>SITE_NAME</span> <span class=o>||</span> <span class=s1>&#39;Default Site Name&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>url</span><span class=o>:</span> <span class=nx>SITE_URL</span> <span class=o>||</span> <span class=s1>&#39;https://default.site.url&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>postUrl</span><span class=o>:</span> <span class=p>(</span><span class=nx>SITE_URL</span> <span class=o>||</span> <span class=s1>&#39;https://default.site.url&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=nx>comment</span><span class=p>.</span><span class=nx>url</span> <span class=o>+</span> <span class=s1>&#39;#&#39;</span> <span class=o>+</span> <span class=nx>comment</span><span class=p>.</span><span class=nx>objectId</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>contentTemplate</span> <span class=o>=</span> <span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>ğŸ’¬ LengM
</span></span></span><span class=line><span class=cl><span class=sb>----------------------------
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>è¯„è®ºé¡µé¢: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>site</span><span class=p>.</span><span class=nx>postUrl</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>è¯„è®ºå†…å®¹: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>comment</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>è¯„è®ºè€…æ˜µç§°: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>nick</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>è¯„è®ºè€…é‚®ç®±: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>mail</span> <span class=o>||</span> <span class=s1>&#39;æœªæä¾›&#39;</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>IP åœ°å€: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>ip</span> <span class=o>||</span> <span class=s1>&#39;æœªçŸ¥&#39;</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>è¯„è®ºæ—¶é—´: </span><span class=si>${</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>createdAt</span><span class=p>).</span><span class=nx>toLocaleString</span><span class=p>()</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>æµè§ˆå™¨ä¿¡æ¯: </span><span class=si>${</span><span class=nx>data</span><span class=p>.</span><span class=nx>self</span><span class=p>.</span><span class=nx>ua</span> <span class=o>||</span> <span class=s1>&#39;æœªçŸ¥&#39;</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>title</span> <span class=o>=</span> <span class=sb>`LengM - æ–°è¯„è®ºé€šçŸ¥`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>success</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Serveré…±é€šçŸ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>SC_KEY</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>form</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FormData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nx>form</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>&#39;text&#39;</span><span class=p>,</span> <span class=nx>title</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>form</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>&#39;desp&#39;</span><span class=p>,</span> <span class=nx>contentTemplate</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=sb>`https://sctapi.ftqq.com/</span><span class=si>${</span><span class=nx>SC_KEY</span><span class=si>}</span><span class=sb>.send`</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>headers</span><span class=o>:</span> <span class=nx>form</span><span class=p>.</span><span class=nx>getHeaders</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                    <span class=nx>body</span><span class=o>:</span> <span class=nx>form</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>ok</span> <span class=o>&amp;&amp;</span> <span class=nx>result</span><span class=p>.</span><span class=nx>code</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Serveré…±é€šçŸ¥æˆåŠŸ:&#39;</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=nx>success</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Serveré…±é€šçŸ¥å¤±è´¥:&#39;</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error sending Serveré…± notification:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;SC_KEY not defined in environment variables.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// PushPlusé€šçŸ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>PUSH_PLUS_KEY</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>pushplusResponse</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;http://www.pushplus.plus/send/&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=s1>&#39;Content-Type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/x-www-form-urlencoded&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=nx>body</span><span class=o>:</span> <span class=sb>`token=</span><span class=si>${</span><span class=nx>PUSH_PLUS_KEY</span><span class=si>}</span><span class=sb>&amp;title=</span><span class=si>${</span><span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>title</span><span class=p>)</span><span class=si>}</span><span class=sb>&amp;content=</span><span class=si>${</span><span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>contentTemplate</span><span class=p>)</span><span class=si>}</span><span class=sb>&amp;template=html`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kr>const</span> <span class=nx>pushplusResult</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>pushplusResponse</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>pushplusResponse</span><span class=p>.</span><span class=nx>ok</span> <span class=o>&amp;&amp;</span> <span class=nx>pushplusResult</span><span class=p>.</span><span class=nx>code</span> <span class=o>===</span> <span class=mi>200</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;PushPlusé€šçŸ¥æˆåŠŸ:&#39;</span><span class=p>,</span> <span class=nx>pushplusResult</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=nx>success</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;PushPlusé€šçŸ¥å¤±è´¥:&#39;</span><span class=p>,</span> <span class=nx>pushplusResult</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;Error sending PushPlus notification:&#39;</span><span class=p>,</span> <span class=nx>error</span><span class=p>.</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;PUSH_PLUS_KEY not defined in environment variables.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é€šçŸ¥æˆåŠŸ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>success</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s1>&#39;ä¸¤ç§é€šçŸ¥æ–¹å¼å‡å¤±è´¥ã€‚&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥ä¿®æ”¹ <strong>contentTemplate</strong> çš„å€¼æ¥è‡ªå®šä¹‰é€šçŸ¥çš„å†…å®¹ã€‚
å°†æ–‡ä»¶æ›´æ–°åˆ° Github ä¹‹å Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆå°±å¯ä»¥æ­£å¸¸æ¨é€äº†ã€‚</p><p><img src=/p/waline%E8%AF%84%E8%AE%BA%E9%85%8D%E7%BD%AEserver%E9%85%B1%E9%80%9A%E7%9F%A5/sc-msg.webp width=1617 height=1134 loading=lazy alt=Serveré…±é€šçŸ¥ class=gallery-image data-flex-grow=142 data-flex-basis=342px></p><h2 id=é™„å½•>é™„å½•</h2><h3 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</h3><ol><li><a class=link href=https://waline.js.org/guide/features/notification.html target=_blank rel=noopener>Waline æ–‡æ¡£-è¯„è®ºé€šçŸ¥</a></li><li><a class=link href=https://github.com/walinejs/waline/issues/2828#issuecomment-2499552732 target=_blank rel=noopener>walinejs/waline/issues/2828</a></li></ol><h3 id=æ–‡ç« å°é¢>æ–‡ç« å°é¢</h3><p><a class=link href=https://www.pixiv.net/artworks/127964621 target=_blank rel=noopener>æ¾é›€&è§‰å§¨</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/waline/>Waline</a>
<a href=/tags/server%E9%85%B1/>Serveré…±</a>
<a href=/tags/vercel/>Vercel</a>
<a href=/tags/github/>GitHub</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/stack-%E4%B8%BB%E9%A2%98%E4%B8%8B-waline-%E7%BE%8E%E5%8C%96/><div class=article-image><img src=/p/stack-%E4%B8%BB%E9%A2%98%E4%B8%8B-waline-%E7%BE%8E%E5%8C%96/cover.0aec1e505020f76a99f97c94cae8e1b0.webp width=1891 height=1440 loading=lazy alt="Featured image of post Stack ä¸»é¢˜ä¸‹ Waline ç¾åŒ–" data-hash="md5-CuweUFAg92qZ+XyUyujhsA=="></div><div class=article-details><h2 class=article-title>Stack ä¸»é¢˜ä¸‹ Waline ç¾åŒ–</h2></div></a></article><article class=has-image><a href=/p/hugo-stack%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/><div class=article-image><img src=/p/hugo-stack%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/cover.b43b80152877880eaf06513e4989dcb3.webp width=2198 height=1440 loading=lazy alt="Featured image of post Hugo Stackä¸»é¢˜é…ç½®" data-hash="md5-tDuAFSh3iA6vBlE+SYncsw=="></div><div class=article-details><h2 class=article-title>Hugo Stackä¸»é¢˜é…ç½®</h2></div></a></article><article class=has-image><a href=/p/%E4%BD%BF%E7%94%A8hugo-stack%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/><div class=article-image><img src=/p/%E4%BD%BF%E7%94%A8hugo-stack%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/cover.7da1f4decee2e69f4427d1b76a5dae8b.webp width=1824 height=1248 loading=lazy alt="Featured image of post ä½¿ç”¨Hugo+Stackæ­å»ºåšå®¢" data-hash="md5-faH03s7i5p9EJ9G3al2uiw=="></div><div class=article-details><h2 class=article-title>ä½¿ç”¨Hugo+Stackæ­å»ºåšå®¢</h2></div></a></article><article class=has-image><a href=/p/%E9%80%9A%E8%BF%87umami%E5%AE%9E%E7%8E%B0%E8%AE%BF%E5%AE%A2%E6%95%B0%E6%B5%8F%E8%A7%88%E9%87%8F/><div class=article-image><img src=/p/%E9%80%9A%E8%BF%87umami%E5%AE%9E%E7%8E%B0%E8%AE%BF%E5%AE%A2%E6%95%B0%E6%B5%8F%E8%A7%88%E9%87%8F/cover.e9d77de22872c2b897aa8717aea3417b.webp width=1920 height=1080 loading=lazy alt="Featured image of post é€šè¿‡Umamiå®ç°è®¿å®¢æ•°ã€æµè§ˆé‡" data-hash="md5-6dd94ihywriXqocXrqNBew=="></div><div class=article-details><h2 class=article-title>é€šè¿‡Umamiå®ç°è®¿å®¢æ•°ã€æµè§ˆé‡</h2></div></a></article><article class=has-image><a href=/p/stack%E4%B8%BB%E9%A2%98%E5%8F%8B%E9%93%BE%E7%AD%89%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96/><div class=article-image><img src=/p/stack%E4%B8%BB%E9%A2%98%E5%8F%8B%E9%93%BE%E7%AD%89%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96/cover.790f5d6c84933d2205ffd84482c78e03.webp width=1472 height=832 loading=lazy alt="Featured image of post Stackä¸»é¢˜å‹é“¾ç­‰é¡µé¢ç¾åŒ–" data-hash="md5-eQ9dbISTPSIF/9hEgseOAw=="></div><div class=article-details><h2 class=article-title>Stackä¸»é¢˜å‹é“¾ç­‰é¡µé¢ç¾åŒ–</h2></div></a></article></div></div></aside><link rel=stylesheet href=/vendor/waline/waline.css><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script type=module>
    import { init } from '/vendor/waline/waline.js';
    init({"avatar":"img/Akkarin.jpg","dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://npm.elemecdn.com/@waline/emojis@1.2.0/bilibili","https://npm.elemecdn.com/@waline/emojis@1.2.0/weibo"],"lang":"zh-CN","locale":{"admin":"ç«™é•¿"},"placeholder":"æ¬¢è¿ç•™ä¸‹å®è´µçš„è¯„è®ºï¼è¯·ç•™ä¸‹æ­£ç¡®çš„é‚®ç®±ä»¥ä¾¿æœ‰å›å¤æ—¶è¿›è¡Œé‚®ç®±æé†’ï¼Œè¯·å‹¿å‘å¸ƒä»»ä½•ä¸æœ¬æ–‡ç« æ— å…³çš„å†…å®¹ã€‚","requiredMeta":["name","email","url"],"serverURL":"waline.trrw.tech","visitor":""});
</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 Trrrrw's Blog</section><section class=powerby><a href=http://beian.miit.gov.cn/ target=_blank>çš–ICPå¤‡2025089713å·</a>
|
<a href="https://icp.gov.moe/?keyword=20230421" target=_blank>èŒICPå¤‡20230421å·</a><br><img src=/å¤‡æ¡ˆå›¾æ ‡.png width=12> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=34162102003417" rel=noreferrer target=_blank>çš–å…¬ç½‘å®‰å¤‡34162102003417å·</a><br><span id=visit-info></span><br>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://unpkg.com/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://unpkg.com/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://unpkg.com/photoswipe@4.1.3/dist/default-skin/default-skin.css crossorigin=anonymous><link rel=stylesheet href=https://unpkg.com/photoswipe@4.1.3/dist/photoswipe.css crossorigin=anonymous></main></div><script src=/vendor/vibrant/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="/vendor/custom-font/custom-font.css",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>(async()=>{const o=document.getElementById("visit-info");let e=0,t=0,n=0;const s=new Date;s.setHours(23,59,59,999);const i=s.getTime(),a=`https://umami.trrw.tech/api/websites/0d3ae99b-13c2-453f-8487-2f4e553b79c3/stats?startAt=1751254971548&endAt=${i}&unit=day&timezone=Asia%2FShanghai`,r={authorization:"Bearer zoF32eaXAyPS2673KpK6rH4Qv6Qw1YuubYWKLt/3D0nI6wSCDC7aWTHJNlFAlmasWv4XEWwxXLhhz79ReBu8YRmSoq2NNN5dXdewKqGXnWRqjbDhuV2zKGG7KjzbDN6cXXee7Sg/ttm4ih5lc68PaYCUOALT8P1XhKYHrxttpnw+w8Pnf8OoATbYK8B6NtSVUq6/6yjdKup9zyCjjUE+YWJmV6E+eKRiZ0wrw1WGRNtfNYe+N4PtVc4zCr8v9q73uJfBIljeGWqjuLfLTYiVYYDGC5g8A5yjUKmjlGnWkvaluuEWthueuoO5eTcgx0sO4UIHB/YGzbIvA/5RVNQ4pw2ZnQ38fHdF211pPHv4SXvIGE6zHVhiIDDnYaJy"};try{const o=await fetch(a,{method:"GET",headers:r}),s=await o.json();e=s.pageviews||0,t=s.visitors||0,n=s.visits||0}finally{o.innerText=`æµè§ˆé‡${e} Â· è®¿å®¢${t} Â· è®¿é—®æ¬¡æ•°${n}`}})()</script><script>(async()=>{const e=document.querySelectorAll(".article-analysic");if(!e.length)return;const t=new Date;t.setHours(23,59,59,999);const n=t.getTime(),s={authorization:"Bearer zoF32eaXAyPS2673KpK6rH4Qv6Qw1YuubYWKLt/3D0nI6wSCDC7aWTHJNlFAlmasWv4XEWwxXLhhz79ReBu8YRmSoq2NNN5dXdewKqGXnWRqjbDhuV2zKGG7KjzbDN6cXXee7Sg/ttm4ih5lc68PaYCUOALT8P1XhKYHrxttpnw+w8Pnf8OoATbYK8B6NtSVUq6/6yjdKup9zyCjjUE+YWJmV6E+eKRiZ0wrw1WGRNtfNYe+N4PtVc4zCr8v9q73uJfBIljeGWqjuLfLTYiVYYDGC5g8A5yjUKmjlGnWkvaluuEWthueuoO5eTcgx0sO4UIHB/YGzbIvA/5RVNQ4pw2ZnQ38fHdF211pPHv4SXvIGE6zHVhiIDDnYaJy"};for(const t of e){const i=t.dataset.path||"/",a=`https://umami.trrw.tech/api/websites/0d3ae99b-13c2-453f-8487-2f4e553b79c3/metrics/expanded?startAt=1751254971548&endAt=${n}&unit=day&timezone=Asia%2FShanghai&search=${i}&type=path`;let o=0;try{const t=await fetch(a,{method:"GET",headers:s}),e=await t.json();Array.isArray(e)&&e.length>0&&(o=e[0].pageviews||0)}finally{t.textContent=`${o} é˜…è¯»`}}})()</script></body></html>